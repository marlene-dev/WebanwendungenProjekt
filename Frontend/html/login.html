<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ihre Seite</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    />
    <link rel="stylesheet" href="../Style.css" />
    <script src="../Frontend.js"></script>
  </head>
  <body>
    <!-- LOGIN: hier kann sich der Nutzer einloggen -->
    <div class="container">
      <form class="form" id="loginForm">
        <div class="form_field">
          <label for="email">Email:</label>
          <input type="text" id="emailInput" required />
        </div>
        <div class="form_field">
          <label for="password">Password:</label>
          <input type="password" id="passwordInput" required />
        </div>
        <!-- Funktion verarbeitet ob alle Felder ausgefüllt wurden wenn erfüllt > weiterleitung. Daten in Klammer (zu seigendes Element, zu überprüfendes Element, error Message wenn test fehlschlägt) -->
        <button type="submit" class="form_button" onclick="areAllFieldsEmpty('userData','loginForm', 'requestFormLogin')">
          Login
        </button>
        <p class="error message hidden">Bitte geben Sie Ihre E-Mail ein.</p>
        <p class="error message hidden" id="requestFormLogin">Bitte füllen Sie alle Felder aus.</p>
        <p class="error message hidden">Incorrect email or password.</p>
        <p class="success message hidden">
          Login erfolgreich! Willkommen, {{ loggedInEmail }}.
        </p>
      </form>
      <!-- SHOW DATA: hier werden daten nach login angezeigt -->
      <div class="form hidden" id="userData">
        <div class="userData">
          <div class="userDetail">
            <label>Name:</label>
            <div id="name"></div>
          </div>
          <div class="userDetail">
            <label>Email:</label>
            <div id="email"></div>
          </div>
          <div class="userDetail">
            <label>Straße:</label>
            <div id="street"></div>
          </div>
          <div class="userDetail">
            <label>Stadt:</label>
            <div id="town"></div>
          </div>
        </div>
        <button class="form_button" id="loginButton" onclick="show('changeData'), hide('userData')">Bearbeiten</button>
        <button id="logout" class="form_button" onclick="show('loginForm'), hide('userData')">Logout</button>
        <p class="message error hidden">
          Aktion fehlgeschlagen. Bitte versuche es später nochmal.
        </p>
        <p class="message success hidden">Aktion erfolgreich durchgeführt.</p>
      </div>
      <!-- CHANGE DATA: hier werden die Daten geändert -->
      <form onsubmit="return validate()" class="form hidden" id="changeData">
        <div class="form_field">
          <label for="name">Name:</label>
          <input id="name" required />
        </div>
        <div class="form_field">
          <label for="email">Email:</label>
          <input type="text" id="email" required />
        </div>
        <div class="form_field">
          <label for="password">Password:</label>
          <input id="passwordChange" required />
        </div>
        <div class="form_field">
          <label for="street">Straße und Hausnummer:</label>
          <input id="street" required />
        </div>
        <div class="form_field">
          <label for="plz">Postleitzahl:</label>
          <input id="plz" required />
        </div>
        <div class="form_field">
          <label for="town">Stadt:</label>
          <input id="town" required />
        </div>
        <div class="form_field">
          <label for="country">Land:</label>
          <input id="country" required />
        </div>
        <button type="submit" class="form_button" onclick="show('userData'), hide('changeData')">Speichern</button>
        <p class="error message hidden">
          Änderungen konnten nicht gespeichert werden.
        </p>
        <p class="success message hidden">Daten werden gespeichert.</p>
      </form>
    </div>
  </body>
</html>
